/* Light theme RTL Arabic UI */
:root{
  --bg:#f7f9fc;
  --card:#ffffff;
  --text:#1f2937;
  --muted:#6b7280;
  --primary:#2563eb;
  --primary-600:#1d4ed8;
  --accent:#10b981;
  --danger:#ef4444;
  --border:#e5e7eb;
  --chip:#f1f5f9;
  --badge:#eef2ff;
  --shadow:0 10px 30px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Kufi Arabic", Tahoma, sans-serif;
  background:var(--bg);
  color:var(--text);
}

.container{width:min(1200px, 92%); margin-inline:auto}

.header{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:18px 0;}
.brand{display:flex; align-items:center; gap:14px;}
.logo{width:52px;height:52px;opacity:.9}
.muted{color:var(--muted);margin:0}

.actions{display:flex; align-items:center; gap:12px;}
#search{
  width: min(360px, 70vw);
  padding:12px 14px;
  background:var(--chip);
  border:1px solid var(--border);
  color:var(--text);
  border-radius:10px;
}

.cart-btn{
  display:flex; align-items:center; gap:8px;
  padding:10px 14px; background:var(--card); border:1px solid var(--border); color:var(--text);
  border-radius:10px; cursor:pointer; box-shadow:var(--shadow);
}
.badge{background:var(--accent); color:#041; padding:2px 8px; border-radius:999px; font-weight:700}

/* Slider */
.slider{position:relative; overflow:hidden; border-radius:16px; box-shadow:var(--shadow); margin-bottom:18px; background:#fff}
.slides{display:flex; transition:transform .5s ease-in-out}
.slide{min-width:100%; height:320px;}
.slide img{object-fit:cover; width:100%; height:320px; display:block}
.slider-controls{
  position:absolute; inset-inline:0; bottom:10px; display:flex; align-items:center; justify-content:center; gap:10px;
}
.slider-controls button{
  background:rgba(255,255,255,.8); border:1px solid var(--border); color:#111; padding:6px 10px; border-radius:8px; cursor:pointer;
}
.dots{display:flex; gap:6px}
.dots button{width:10px;height:10px;border-radius:50%;border:1px solid #111;background:#fff;opacity:.6;cursor:pointer}
.dots button.active{background:#111;opacity:1}

/* Tabs */
.tabs{display:flex; flex-wrap:wrap; gap:8px; margin:12px 0 8px}
.tab{padding:8px 12px; border:1px solid var(--border); background:var(--card); color:var(--text); border-radius:999px; cursor:pointer; box-shadow:var(--shadow)}
.tab.active{background:var(--primary); border-color:var(--primary-600); color:#fff}

/* Products Grid */
#products-grid{
  display:grid; grid-template-columns:repeat(auto-fill, minmax(220px,1fr)); gap:14px; padding:6px 0 28px;
  min-height: 320px; /* ثابت لمنع تغيير الارتفاع عند البحث */
}
.card{
  background:var(--card); border:1px solid var(--border); border-radius:14px; overflow:hidden; display:flex; flex-direction:column;
  box-shadow:var(--shadow);
}
.card img{width:100%; height:180px; object-fit:cover; background:#f3f4f6}
.card .body{padding:12px}
.card h3{margin:0 0 6px; font-size:18px}
.meta{display:flex; justify-content:space-between; align-items:center; color:var(--muted); font-size:14px; margin-bottom:10px}
.price{font-weight:800}
.variants{display:flex; gap:6px; flex-wrap:wrap; margin-bottom:10px}
.variant{padding:6px 8px; border:1px dashed var(--border); border-radius:8px; cursor:default}
.card button{
  margin-top:auto; width:100%; padding:10px; border:none; border-top:1px solid var(--border); background:var(--primary); color:#fff; cursor:pointer
}
.card button:hover{background:var(--primary-600)}

/* Modal */
.modal{position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; align-items:center; justify-content:center; padding:16px}
.modal[aria-hidden="false"]{display:flex}
.modal-content{
  width:min(900px, 96vw); background:var(--card); border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow);
}
.modal-header{display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--border)}
.icon-btn{background:transparent; color:var(--text); border:1px solid var(--border); border-radius:8px; padding:4px 8px; cursor:pointer}
.cart-items{max-height:45vh; overflow:auto}
.cart-item{display:grid; grid-template-columns:64px 1fr auto; gap:10px; padding:10px 14px; border-bottom:1px solid var(--border)}
.cart-item img{width:64px;height:64px;object-fit:cover;border-radius:8px}
.cart-item h4{margin:0 0 6px}
.qty{display:flex; align-items:center; gap:6px}
.qty button{background:var(--chip); border:1px solid var(--border); color:var(--text); border-radius:6px; padding:2px 8px; cursor:pointer}
.cart-form{display:grid; grid-template-columns:1fr 1fr; gap:10px; padding:12px 14px; border-top:1px solid var(--border)}
.cart-form label{display:flex; flex-direction:column; gap:6px; font-size:14px}
.cart-form input, .cart-form textarea{padding:8px 10px; border:1px solid var(--border); border-radius:8px; background:#fff}
.cart-footer{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:12px 14px; border-top:1px solid var(--border)}
.cart-actions{display:flex; gap:10px}
.cart-actions .primary{background:var(--accent); color:#041; padding:10px 12px; border-radius:10px; text-decoration:none; font-weight:700; border:none; cursor:pointer}
.cart-actions .danger{background:var(--danger); color:#fff; padding:10px 12px; border:none; border-radius:10px; cursor:pointer}
.disclaimer{padding:0 14px 14px; color:var(--muted)}

/* Footer */
.footer{padding:18px 0 40px; color:var(--muted)}
.footer a{color:var(--text)}

/* ---- Stability: prevent layout jump between pages/modal/scrollbar ---- */
html{scrollbar-gutter: stable both-edges;}
/* Always reserve space for scrollbar on desktop to avoid width shift */
body{overflow-y: scroll;}

/* Keep main area steady height on filters/search */
main#products-grid{min-height: 64vh;}

/* Lock background when modal open */
body.modal-open{overflow: hidden; height: 100vh;}

/* Modal sizing to viewport without overflow jumps */
.modal{align-items: center; justify-content: center;}
.modal-content{max-height: 92vh; display:flex; flex-direction:column;}
.cart-items{flex: 1 1 auto; max-height: none; overflow:auto}
.cart-form{flex: 0 0 auto}
.cart-footer{flex: 0 0 auto}
